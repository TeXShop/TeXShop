\documentclass[11pt, oneside]{article}   	% use "amsart" instead of "article" for AMSLaTeX format
\usepackage{geometry}                		% See geometry.pdf to learn the layout options. There are lots.
\geometry{letterpaper}                   		% ... or a4paper or a5paper or ... 
%\geometry{landscape}                		% Activate for rotated page geometry
\usepackage[parfill]{parskip}    		% Activate to begin paragraphs with an empty line rather than an indent
\usepackage{graphicx}				% Use pdf, png, jpg, or epsÂ§ with pdflatex; use eps in DVI mode
								% TeX will automatically convert eps --> pdf in pdflatex		
\usepackage{amssymb}
\usepackage{url}
\usepackage{hyperref}

%SetFonts

%SetFonts


\title{About PreTeXt}
\author{Richard Koch}
\date{\today}							% Activate to display a given date or no date

\begin{document}
\maketitle
%\section{}
%\subsection{}
\section{Remembrances}

TeXShop was started in May of 2000, when OS X was still in beta. The first web release was in July of that year. Recently I recovered sources for that release and discovered that they still compile on modern versions of OS X. Such a modern copy is available on the TeXShop web page.

Interest picked up with the release of OS X on March 24, 2001.  Sometime after that I was invited by Wendy McKay to speak at the TeX User Group Conference at the University of Delaware in  August of 2001. Wendy McKay worked with Jerry Marsden at Cal Tech; both were Macintosh fans.  MacTeX is Wendy's idea.

I remember just one thing about the talk. To show how easy it was to use TeX on OS X, I installed it during the talk. The Finder crashed in the middle and had to be restarted. After the talk, an audience member came up to me and said ``I'm not interested in TeXShop, but I'm very impressed that you could restart the Finder without rebooting the system!''

\section{The TeX User Group}
In 2001, I had a very distorted notion of TUG. I learned that the central offices of TUG are in Portland, Oregon, and imagined that they covered one floor of a large downtown skyscraper, with many employees handling the journal Tugboat, the DVD's, etc. The executive directory of TUG is Robin Laakso, and actually the TUG office is one room in her house and those many employees are Robin, Robin, and Robin.

Wendy offered to pay my conference fee and travel to Delaware, and I expected a large conference of perhaps 2000 TeX users. But when I got to Delaware, I discovered that there were around 50 people, most of them  speaking at the conference. All had paid their own way. So I sheepishly repaid TUG the conference and travel amounts (at least, that's how I remember it).

Since Delaware, I've gone to many TUG conferences and learned a lot. Some talks are by beginners explaining what it is like to start using TeX. One such speaker's advice was ``install everything right away, so packages and examples from books just work.'' That is why MacTeX installs the full TeX Live. Other talks were technical by the authors of XeTeX and LuaTeX. One of the most useful talks was on Beamer by Andrew Mertz and William Slough; I'd listen to any talk those two give. After that talk, UO faculty sometimes asked me how to produce slides and I noticed that this question usually came the day before their plane left for Budapest and two days before their talk. I'd always suggested Beamer and the Mertz and Slough article and never had a dissatisfied customer.

\section{Unusual Talks}
But mixed in with these standard talks were some unusual topics I had a hard time understanding. Every conference seemed to have a couple of talks on xml (Extended Markup Language). The speakers were often
able to type xml code at a ferocious rate, and they would indent to show the structure of the code, and soon the indentation level seemed to be several pages wide, particularly if MathML was included. 

I gradually learned that xml code can be edited  by computer programs, while TeX code requires hand manipulation. For this reason, many publishers require submission in xml. It seemed that researchers wanted to manipulate TeX for interactive output and make other advancements and each required xml. But even after many talks, I was unable to understand many details, and I gradually ignored xml.

\section{Pessimistic Talks} 

From time to time, a famous TeX expert's talk would be pessimistic, concluding that TeX had very little future. Sometimes the conclusion was that mathematicians would still input equations using TeX syntax, but the structure of documents would be described by an entirely new language. 

Why the pessimism? Some of my friends concluded ``they are just getting old''. But I began to notice that many of these experts were working in the Open University movement in England, teaching OnLine courses which required material on the web and highly interactive content. Instead of homework graders, homework answers were often checked immediately by machine; this was required by the large number of students, but also made for a more useful homework experience. Interactive graphs and demonstrations were necessary to hold the interest of students distracted by others in their home. All of these things are difficult to do with ordinary TeX. 

I'm retired from teaching at the University of Oregon, but I noticed my colleagues dealing with the same issues locally. So the interest in TeX extensions seemed to have a genuine cause. But practical solutions were another matter.

\section{TUG 2014}

The national meeting of TUG in 2014 was in Portland, Oregon. At last, a conference I could drive to! Among the talks on the first day was Robert Beezer's talk on Mathbook XML. This is the old name of PreTeXt, and as an example Beezer described conversion from LaTeX to PreTeXt of a book by my former Phd student Tom Judson.
The talk was clear and vivid, but I kept thinking ``hey, I know this guy Judson.''
After the talk I discovered that Beezer and Judson met while bicycling in France, and that is what I most remember.  I'm ashamed that I didn't pay closer attention.

\section{Dev Sinha}
In 2017, I was at the University for a groundbreaking ceremony for a new building. The ceremony had donors wearing suits and administrators, and I felt out of place until I recognized another mathematician, Dev Sinha. We left so I could hear a lecture on topology Sinha was to give, and on the way he asked what I knew about xml. I told him that mainly it takes a long time to type. Sinha disagreed, and told me that he was writing course notes in xml using a system from the University of Puget Sound, and he gave me a web address.

That night I went to the web site, and after a few minutes I thought ``wait a minute; I know this project.''  It was the PreTeX page, and among the names on the page were Robert Beezer and Tom Judson. Then I noticed that the xml code was for document structure, but mathematics was still written using LaTeX commands. Finally I noticed that several other people I knew from the University of Oregon were involved in the project.

But what really struck me was the down-to-earth nature of PreTeXt. The author seemed to be interested in solving the problems teachers face in the modern world, not in ideas which might bear fruit in the future. PreTeXt used the best available technology. Thus xml for structure, but Latex for math. To get the Latex on the web, it uses MathJax, a technology promoted by the American Mathematical Society which has become a standard for math on the web.

So, sometime in 2018, I added PreTeXt engines to TeXShop. But PreTeXt is evolving rapidly, and those engines are now out of date.

\newpage

\section{PCC Climb Center in Portland}

In June, 2019, I spent a day attending a session at a week long  conference on PreTeXt at the PCC Climb Center in Portland.
Several people there suggested changes in the TeXShop PreTeXt Engine, and these changes are described in the next section. They also suggested additional features in TeXShop which would improve it as a PreTeXt front end. Those are all now in the program. Thanks to Thomas Judson, Kent Morrison, Dave Resoff, and Rob Beezer
for these suggestions.

It is now the middle of July, 2019, and I'm about to release the version of TeXShop that really supports PreTeXt.
Readers who want to use PreTeXt, or at least try it, should read a second document  in $\sim$/Library/TeXShop/Engines/Inactive/PreTeXt, which  covers setting up PreTeXt and those features in TeXShop which support it.

%
%
%\section{Enough Personal Stuff; How to Get Started}
%
%Note that xml is a very primitive markup language. PreTeXt is an extension of this language, defined by files in
%a folder on the PreTeXt site called xsl. I like to think of xsl as similar to the various style and package files which make up modern TeX. 
%
%The first step in typesetting a PreTeXt file is to convert the xml language to another markup language, like latex or html. The engine which does this conversion is called xsltproc; it is a standard part of OS X. The program xsltproc needs to have access to the document source and also the files in xsl to do the conversion.
%
%After this step, the actual typesetting and text layout is done by LaTeX or by the HTML layout engine.
%
%Thus the first step before using PreTeXt is to go to the PreTeXt web site, \url{http://mathbook.pugetsound.edu},
%and download a folder containing the xsl files together with a large number of examples and other material.
%You may wish to bookmark the site, since additional information is often added to these web page.
%
%On the PreTeXt site, find the section labeled {\em Code} in the middle of the page, and click on the link ``repository.'' Click the green button ``Clone or download'' and in the resulting dialog, click on ``Download ZIP.''
%
%Your download directory will now contain a folder named ``mathbook-dev.'' Change the name of this folder to just ``mathbook'' and drag and drop it into your $\sim$/Documents folder. The PreTeXt engine files to be discussed below require that ``mathbook'' be places in the $\sim$/Documents folder.
%
%There is another way to do this same operation. Open the Terminal app in /Applications/Utilities. Type the following lines, pushing RETURN after each line:
%\begin{verbatim}
%     cd ~/Documents
%     git clone https://github.com/rbeezer/mathbook
%\end{verbatim}
%
%If you get a dialog saying that you do not have command line tools installed, click on the install button. It takes a couple of minutes to complete the installation. Then repeat the commands.
%
%If you decide to use PreTeXt regularly, you will discover that the author recommends updating ``xsl'' at least once a week, since this is the folder which keeps PreTeXt up to date. So you are likely to use these Terminal commands regularly.
%
%Next navigate to the folder $\sim$/Library/TeXShop/Engines/Inactive/PreTeXt. Find the two files in this subfolder named ``PreTeXt-LaTeX.engine'' and ``PreTeXt-HTML.engine''. Move or copy these files up three levels into the folder Engines.
%
%
%Next return to  the folder ``mathbook'' downloaded from the PreTeXt site. Inside you'll find a folder named ``Examples'' and inside that a folder named ``minimal''. For the following you can work in this folder, or if you like make a copy of the folder in your home directory and work in that copy.
%
%Open the file ``minimal.xml'' in TeXShop by dragging its icon to the TeXShop icon on the desktop. This is your first example of a small PreTeXt source file. Before going further, edit this file by adding the following four lines just after the first line of the document.
%
%
%
%\begin{verbatim}
%  <!--
%  % !TEX TS-program = PreTeXt-LaTeX
%  % !TEX parameter = minimal.html
%  -->
%\end{verbatim}
%
%After doing this, the first few lines of the document should read 
%\begin{verbatim}
%  <?xml version="1.0" encoding="UTF-8" ?>
%  <!--
%  % !TEX TS-program = PreTeXt-LaTeX
%  % !TEX parameter = minimal.html
%  -->
%  <!--********************************************************************
%  Copyright 2015 Robert A. Beezer
%\end{verbatim}
%
%I recommend that the same four lines be copied to the top of any PreTeXt source file. Here is an explanation of the lines. Since the source file is an xml file, we hide the two red LaTeX comment lines inside an xml comment pair.
%The first of the red comment lines tells TeXShop to typeset this file using the PreTeXt-LaTeX engine. If the line is included, then you need not select this engine in the TeXShop interface. Just type command-T to typeset and the correct engine will automatically be used.
%
%Do that now and notice that the PreTeXt-LaTeX engine converts the xml code into tex code and typesets it with LaTeX to produce a pdf file, which TeXShop displays.
%
%Next reach into the first red comment and change PreTeXt-LaTeX to PreTeXt-HTML. The effect will be that typesetting calls the PreTeXt-HTML engine. Do that now and notice that PreTeXt-HTML converts the xml code into html code, opens your default web browser, and displays this code on a web page.
%
%This reveals the great advantage of PreTeXt. The same source code produces both pdf pages for printing, and html pages for user interaction.
%
%One final word about the second red comment line. This line is irrelevant when you run the PreTeXt-LaTeX engine. It is just ignored. But the PreTeXt-HTML engine produces many different html files, and the name of the master file is not necessarily the name of the xml source file. So in that case, the second comment should contain the name and extension of the output html master file. In some cases like ``minimal'', this will just be the name of the xml source file.
%
%At the moment, there is talk in the PreTeXt community of always naming the html master file ``index.html''. If that change is adopted, change ``minimal.html'' to ``index.html'' in the second red comment line and never change it.
%
%\section{Sample-Article}
%
%Return to the mathbook folder in $\sim$Documents. Find the folder examples/sample-article inside. This simple-article folder contains a very large PreTeXt source file designed to illustrate every existing feature of PreTeXt. We are going to typeset it. I recommend making a copy of the sample-article folder and placing that copy inside your home directory.
%
%Open sample-article.xml by dragging it to the TeXShop icon in the dock and dropping it. Copy the following four lines just after the first line of the source file:
%\begin{verbatim}
%  <!--
%  % !TEX TS-program = PreTeXt-LaTeX
%  % !TEX parameter = derivatives.html
%  -->
%\end{verbatim}
%
%Typeset this by typing command-T. There will be a long pause as the xml is converted to html and a number of auxiliary subtasks are run, and eventually a pdf file will open showing the LaTeX output.
%
%Now change LaTeX to HTML and typeset again. In this case, the master html file is named derivatives, hence the red comment line above. This time after a pause your browser will open and display the web page. Leaf through the pages to discover all the wonderful capabilities of PreTeXt.
%
%\section{An Extra TeXShop Feature for PreTeXt}
%
%Note that if you hold down the option key and then double click in a tag like $<$titlepage$>$, TeXShop will select everything between that tag and the associated closing tag $</$titlepage$>$. This also works backwards: hold down the option key and double click on a closing tag and TeXShop will select everything back to the associated opening tag. These operations understand xml comments and skip over them.

\section{Conclusion}


Want more? Go to the web page \url{http://mathbook.pugetsound.edu}

	










\end{document}  