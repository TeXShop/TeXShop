<HTML>

<HEAD>
		<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=iso-8859-1">
		<TITLE>What's new?</TITLE>
		<META NAME="copyright" CONTENT="Copyright (c) 2003 Richard Koch under the GNU FDL">
		<META NAME="description" CONTENT="new features; bug fixes">
		<link href="../sty/screen.css" rel="stylesheet" media="all">
	</HEAD>

<BODY>



<div id="content_normal">

<P><h5>Versions 1.35a through 1.42 add extra features to TeXShop and fix some bugs.</h5></p>
<p><h6> New features:</h6></p>

<ul>
<li> The commands "altpdftex" and "altpdflatex" in Gerben Wierda's TeX distribution
have changed to "simpdftex tex" and "simpdftex latex". These are now the default preference
values for new TeXShop installations.

<li>  Moreover, the first time a user tries to typeset in the "tex + ghostscript" mode,
TeXShop will check these preference items, and change them if necessary. It does this by
determining whether "simpdftex" is in the TeX binary directory. If so, and if the command
in the TeX + dvips + distiller "TeX Program" field in the TeXShop Engine Preferences is "altpdftex", then
this field is changed to "simpdftex tex". Any additional flags in the preference field are retained.
At the same time, the "Latex Program" field is changed. If it is "altpdflatex", it is changed
to "simpdftex latex", retaining any additional flags.
<li> Added ISO Latin 9 encoding
<li> New German localization and help files.
<li> New Japanese Help by Yoshihisa Okazaki with help from Seiji Zenitani.
<li> New Spanish help files and localization.
<li> Uses version 1.2.4 of OgreKit.
<li> Conversion of eps, ps, and dvi files to pdf (caused by opening such a file)
now works even if the path to the file has folders whose names contain spaces.
In all three cases, the file can now be in a folder without write permission.
<li> Trash AUX files now removes files with more extensions: cos, idv, 4ct, 4tc, lg, xref, ttt, fff, ent, wrm.
<li> If the user tries to open a file with UTF-8 Unicode encoding, but the file is not
a legal utf8 file, a dialog now appears warning of the problem, and the file is opened with
MacOSXRoman encoding.
<li> Bib files are promoted to full class citizens; text can be dragged to them,
syntax coloring works, etc.
<li> A remark: users have reported that they can no longer "find" words in the console
window. Actually, they can. This window has two portions. When typesetting ends, the
bottom portion is active, so the find panel searches that portion. To activate the top,
click on it. Then "find" works.
<li> Added hidden preferences to set the insertion point color; this is needed for
users who change the default foreground color. For instance
<ul>
<li> defaults write TeXShop insertionpoint_R 1.0
<li> defaults write TeXShop insertionpoint_G 1.0
<li> defaults write TeXShop insertionpoint_B 1.0
</ul>
change the insertion point to white. The default values for black text on white should
be 0.0.
<li> Added a preference to control first mouse behavior: "Select on Activate."
When this is YES, 
a click in the source window will also
set the insertion point to the click point. If it is NO, a second click is required
to change the insertion point. 
<li> Added pdf to the types of files TeXShop can edit, and added a pdf icon.
This allows TeXShop to be chosen as the default pdf viewer.
<li> Martin Kerz added code to check for updates and ask Safari to download
an update if one is available.This code first determines whether the user is running
Tiger or higher. If so, it checks against the currently available version number.
If not, it checks against a field named "TeXShopPanther" which will hold the latest
currently available version which runs on 10.2 and 10.3.
<li> Added the appletalk command RefreshPDFBackground, which refreshes the pdf window
without bringing it forward.
<li> Added Lilypond, abc, and bst as extensions that can be edited.
<li> Added code by David Reitter so that selecting the word
\int, etc., selects the beginning "\" as well.

</ul>

<p><h6> Bugs fixed:</h6></p>
		<ul>				


<li>	Japanese Image Copy Type Preference failed due to incorrect localization. Now fixed.

<li> Command Completion's configuration file is now loaded and saved in UTF-8 Unicode.

<li> Errors fixed in pdfsync.

<li> When typesetting engines are called, they are now passed the program filename with
extension, rather than just the filename.

<li> In 1.35, it was only possible to switch between the OgreKit Find panel and the
Apple Find panel in the English localization. This is fixed.

<li> The menu item to bring up the statistics panel was only in the English version.
Now it is in all versions.

<li> In previous versions, the Macro button could be added to the Preview Window Toolbar
in English, but not in other localization. This is now fixed.

<li> In all display modes except single page mode, a black border is drawn around each
pdf page. Previously this border was slightly inside the page, cutting off a slight border
around the page. Now it is just outside the page. Thanks to Scott Ranby for pointing out
this error.

<li> The "%!TEX TS-program" and "%!TEX root =" commands now when when used with an
external editor.


</ul>



<P><h5>Version 1.35 adds extra features to TeXShop and fixes some bugs.</h5></p>
<p><h6> New features:</h6></p>

<ul>
<li> An important recent development is the release of XeTeX and XeLaTeX by
					Jonathan Kew. See 
<p><ul>
<li>						http://scripts.sil.org/xetex
</ul><p>
					XeTeX is not part of Gerben Wierda's standard installation, but it is available
					with Wierda's i-Installer as an optional install directly from Jonathan Kew.
					XeTeX can access Macintosh fonts directly, so TeX documents can be written
					with Lucida Grande, Zapfino, and any other Mac font. Moreover, XeTeX
					understands Unicode, so for example users can type Arabic into the
					source window from right to left, typeset with TeX, and obtain Arabic
					in the output window. In particular, XeTeX source documents have
					UTF-8 Unicode encoding.

<p>					TeXShop 1.35 supports XeTeX directly as follows:
<p><ul>
				<li>		a) XeTeX and XeLaTeX are now available in the pull-down typesetting menu
						on the source window

				<li>		b) Using preferences, a user can make XeTeX or XeLaTeX the default
						typesetting option

				<li>		c) If one of the first ten lines of the source has the form
	<p><ul>
	<li>						%!TEX encoding = UTF-8 Unicode
</ul><p>
						then that file will be loaded and saved with UTF-8 Unicode encoding,
						regardless of the default encoding chosen for other documents

		<li>				d) If the first line of the source has the form
<p><ul>
<li>							%!TEX TS-program = xetex       or      %!TEX TS-program = xelatex
</ul><p>
						then the appropriate program will be used regardless of the
					typesetting option chosen.
</ul>
<li>					These XeTeX features form a special case of a new general method for adding
					typesetting engines to TeXShop. There is a now a folder in ~/Library/TeXShop named
					Engines; the files in this folder are shell scripts which call typesetting programs.
					When TeXShop first starts, it examines this folder and adds the script names of
					files it contains to the pull-down typesetting menu. Choosing one of these items and 
					pushing the Typeset button calls the script. Users can write their own scripts and add
					them to the Engines folder.

<p>					Items in ~/Library/TeXShop/Engines can be chosen as default typesetting method
					in TeXShop Preferences.

<p>					The typesetting program can be set in the source code by writing one of the following
					on any of the first twenty lines of the source:
<p><dl>
	<dd>					%!TEX TS-program = tex
	<dd>					%!TEX TS-program = latex
	<dd>					%!TEX TS-program = pdftex
	<dd>					%!TEX TS-program = pdflatex
	<dd>					%!TEX TS-program = personaltex
	<dd>					%!TEX TS-program = personallatex
</dl></p>

<p>					This new syntax also works for any new typesetting engine added to 
					~/Library/TeXShop/Engines. For example, %!TEX TS-program = xelatex chooses
					XeLaTeX.

<p>					The encoding used to open or save a file can be set by writing a line of the form
<dl>					
<dd>						%!TEX encoding = UTF-8 Unicode
</dl>
<p>					as one of the first 20 lines of a source document. Any supported encoding is allowed;
					TeXShop's Help Files list the string which must appear on the right for each of
					these encodings. To bypass this behavior, hold down the option key while opening
					a file.

<p>					The old SourceDoc syntax has been modified to conform with the above changes.
					For example, to set the root file to ../Main.tex, write
<dl>
<dd>						%!TEX root = ../Main.tex
</dl>
<p>					(The old syntax is still supported for setting the program, encoding, and SourceDoc,
					but users are urged to switch to this new syntax.)


<li>					TeXShop has a new Find panel by Isao Sonobe. This panel supports regular expressions.
					Users can switch between the new panel and the original one in Preferences.
					The Find panel depends on OgreKit, a Cocoa framework for handling regular
					expressions by Sonobe. See
<p><ul>
<li>						http://www-gauge.scphys.kyoto-u.ac.jp/~sonobe/OgreKit/
</ul><p>
<p>					OgreKit is distributed using a slightly modified version of the BSD license. This
					license can be found in the Documentation included directly in the OgreKit Framework
					folder in the TeXShop source distribution. OgreKit requires Panther, so the new panel
					will only appear on machines running Panther.

<p>					There are many nice features in this new Find panel, which users can discover for
					themselves. OgreKit modifies the "Find" menu submenu of the TeXShop Edit menu,
					replacing it with a more extensive menu. This might be confusing to Localizers,
					because the menu in the TeXShop nib file is not the menu they will see when TeXShop
					is running. The Find menu in the nib file should not be modified because it will
					be active in system 10.2. Instead the corresponding menu in OgreKit needs to be
					localized in the TeXShop source. The Find panel presents buttons controlling how
					it will find words; the settings of the buttons will be remembered from session to
					session. Adjust them until Find works as expected and then relax.

<li>					TeXShop 1.35 is distributed with the latest pdfsync.sty by Piero d'Ancona and J. Laurens.
					This fixes typesetting problems caused by the version distributed with TeXShop 1.34.
					 TeXShop did not keep up with the changes by d'Ancona and Laurens for several months; sorry!

<p>					In the new version, \include and \input are supported; to use the second, the syntax
					\input{thisfile} must be used rather than the syntax \input thisfile. The new version
					supports \pdfsync, \pdfsyncstart, and \pdfsyncstop. Use the first of these commands
					at any spot where you want to reference a point. If pdfsync breaks your code, enclose
					the offending section in a \pdfsyncstop, \pdfsyncstart pair.

<li>					Suppose you are typesetting myfile.tex. Pdfsync creates a file named myfile.pdfsync
					containing synchronization data. Roughly speaking, each data entry describes
					a synchronization point as follows:
<p><ul>
<li>						the page number of the output where the point occurs
<li>						the location on this page
<li>						the name of the source file producing this particular output
<li>						the line number in this source file for this particular output
</ul><p>
<p>					There is a way to get TeXShop to display these synchronization points. The preview
					window toolbar has a new checkbox item called SyncMarks. By default, this item is not
					shown; use Customize Toolbar in the Window menu to select it. When the checkbox is
					checked, synchornization points are shown. 

<p>					By default, this item will not be checked when the Preview window first appears. A hidden
					preference item can change this:
<p><ul>
<li>						defaults write TeXShop ShowSyncMarks YES
</ul><p>
<li>					TeXShop 1.35 has new matrix code by Jonas Zimmermann. The Matrix Panel now 
					makes tables. Examine the panel to find all of the new features. There is a hidden preference 
					to set the default size of the matrix:
<p><ul>
<li>						defaults write TeXShop matrixsize 12
</ul><p>
<p>					A very small number of users may have modified "matrixpanel.plist" in
					~/Library/TeXShop/MatrixPanel. This plist has been extended; the new list is
					called "matrixpanel_1.plist". Please edit this file to add your changes.

<li>					In previous versions of TeXShop, if you clicked elsewhere and then clicked on the
					edit window to edit, you would need to click twice to correctly position the cursor.
					This is now changed; the first click in the edit text is recognized and positions the
					cursor.

<p>					When applescript runs under the Macro menu, it starts a small second application
					embedded in the TeXShop folder to actually run the script. That is because when a
					command like "latex" runs, and there is an error on the source, the console appears
					to accept user input, but the TeXShop event loop is not running during the
					applescript action, so no user input can occur.

<p>					Many applescripts do not have this problem. TeXShop now allows users to begin
					applescript macros with the command
<p><ul>
<li>						-- applescript direct
</ul><p>
					When written this way, the script will be run directly by TeXShop rather than by
					the second small application.

<li>					Added a menu command "Trash AUX Files" and a button on the console "Trash
					AUX Files." When involked, these commands move to the trash all files in the
					current source directory with the same name as the source file and extensions
					aux, bbl, blg, brf, glo, idx, ilg, ind, ioa, lof, log, lot, mtc, mlf, out, pdfsync, and toc.
					Thanks to Will Robertson for suggesting this command and producing this list of
					extensions. 

<p>					Additional extensions can be added to this list with a hidden preference. To add
					"dvi" to the list
<p><ul>
<li>						defaults write TeXShop OtherTrashExtensions -array-add "dvi"
</ul><p>
					Several such extensions can be added in this way, one by one. To remove all
					additions
<p><ul>
<li>						defaults write TeXShop OtherTrashExtensions -array
</ul><p>
					The original list of extensions above will always remain active. 



<p>					Suppose a book project has a main.tex file in a folder, and then chapters in subfolders
					which are accessed using commands like \include{chapter1/chapter1.tex}. When this
					book is typeset, main.aux and other files will appear in the primary folder, and
					chapter1.aux will appear in a subfolder. So the "Trash AUX Files" command does
					not do a complete cleanup. But if the option key is pressed when the menu item
					is chosen or the button on the console window is pressed, then
<p><ul>
<li>						a) SourceDoc and Root File information will be used to find the
						root document

<li>						b) All files with appropriate extensions listed above will be moved to the
						trash from this folder and all subfolders, even if the name does not
						agree with the name of the root file.
</ul><p>
<p>					Some users may want to throw caution to the winds and arrange that "Trash AUX Files"
					always performs this more extensive cleanup. A hidden preference allows this:
<p><ul>					
<li>						defaults write TeXShop AggressiveTrashAUX YES
</ul><p>
<li>					Added new templates by Will Robertson. These are heavily commented. It is
					intended that users will edit them to fit their own requirements. The templates are
					only installed if TeXShop is running for the first time, or if the Templates folder is
					completely removed from ~/Library/TeXShop. But Will's templates are in a folder named
					"More" in the TeXShop distribution; old users can obtain them by moving
					"More" to ~/Library/TeXShop/Templates.

<li>					Added new macros by Will Robertson to create tables and arrays, to insert a reference,
					and to open other project files quickly. These macros have been praised on
					the TeX-On-MacOSX mailing list. The macros are available for new users;
					older users can obtain them by following simple instructions which come with
					TeXShop 1.35.

<li>					Added a macro to examine files in the teTeX tree. For example, if "article.sty" is
					typed in the dialog produced by the Macro, kpsewhich is used to find this
					file in the tree and open it in TeXShop.

<li>					There are hidden preferences to set the color of the text in the source window
<p><ul>
<li>						defaults write TeXShop foreground_R  0.3
<li>						defaults write TeXShop foreground_G  0.3
<li>						defaults write TeXShop foreground_B  0.3
</ul><p>					
					This color will show if syntax coloring is on; otherwise it will be black and then
					color can be selected in the Font menu.

<p>					When used with existing hidden preferences to set the source window background
					color, these commands can be used to write source as white on black, or with
					other color schemes. TeXShop has new macros to set the source window colors,
					and to reset to default colors.

<li>					There are hidden preferences to make the source, preview, and console windows
					partly transparent.
<p><ul>
<li>						defaults write TeXShop ConsoleWindowAlpha 0.75
<li>						defaults write TeXShop SourceWindowAlpha 0.75
<li>						defaults write TeXShop PreviewWindowAlpha 0.75
</ul><p>
					Here an alpha value of 0.00 is completely transparent and an alpha value of 1.00 is
					completely opaque. Use these commands cautiously!

<li>					TeXShop now has a Statistics panel, which lists the number of words, lines, and
					characters in a document. This is obtained by calling
<p><ul>
<li>						detex  myfile  |  wc
</ul><p>
				When first called, the document on disk is tested. After changes are made to the
					document, the "update" button saves the document and calls detex again. The
					detex command removes tex commands, but the word count is still only approximate.
					Input and include files are counted by this command.

<li>					New German Help by Martin Kerz. Kerz also redesigned the TeXShop Help
					Window to follow Apple's current guidelines. These changes appear in
					English and German, but may not appear in other localizations.

<li>					When a file is drag-and-dropped, any alias is now resolved. Thus alias graphic
					files (and other files) can be used provided they are dragged and dropped to the
					source. Alias files will not work if their names are typed directly because the tex
					engine does not understand aliases (it does understand symbolic links).

<li>					Several changes were made in the Japanese portions of the code by
					Seiji Zenitani, with help from Yu Itoh and Koichi Inoue. There is a new Japanese
					encoding, Shift JIS X0213, which will become a new standard in Japan. There is
					now utf.sty support for pTeX. Before this change, Japanese pTeX supported only
					6000 Kanji characters, but utf.sty supports more than 20,300 characters.
					This support is turned on by a preference item in Misc. When on, TeXShop exports
					non-ptex chracters as utf.sty codes. For example, unicode characters become
					\UTF(Hex code) and non-unicode characters become \CID(glyph ID).

	<li>				Zenitani also added new Japanese default settings. Previously, Japanese ptex
					distributors provided their own "altpdflatex" scripts, which was confusing for
					beginning users. This new version of TeXShop bundles "altpdflatex-for-ptex"
					scripts and installs them in ~/Library/TeXShop/bin. The new Japanese default
					settings in Preferences automatically set up TeXShop to use these new scripts. 

	<li>				Added the following Chinese encodings at the request of Adam Si:
					Mac Chinese Traditional, Mac Chinese Simplified, DOS Chinese Traditional,
					DOS Chinese Simplified, GBK, GB 2312, and GB 18030.

<li>				Added a new Japanese help system by Yoshihisa Okazaki.

	<li>				Added new Spanish localization and help.  

	<li>				TeXShop can now open and write files with extension .dn and .engine.

	<li>				There is a hidden preference
<p><ul>
<li>						defaults write TeXShop BringPdfFrontOnAutomaticUpdate NO
</ul><p>
					which causes the pdf window to remain where it is when it automatically updates
					and is used with an external editor. This preference was requested by a user 
					with an X11 editor and only seems necessary in this case.
	<li>				Users sometimes upgrade Mac OS X via "archive and install". After the installation, TeXShop
					remains but teTeX is blown away. The first time such users typeset a file, they
					see an error dialog reporting that "pdflatex cannot be found." This error dialog has
					been revised to explain more clearly the likely cause, and resolution, of the
					problem.

	<li>				The TeXShop web page now contains a "LaTeX Documentation" section listing
					recommended books and links to free LaTeX guides on the internet. The web page
					also makes available a number of short LaTeX example files by Will Robertson.
</ul>

<p><h6> Bugs fixed:</h6></p>
		<ul>				


<li>	When a large number of windows were open, switching from one window to
		another took a long time and yielded a spinning disk; TeXShop was completely
		unresponsive during this time. This slowdown was caused by a bug in the Macro 
		code. The problem is now fixed.

	<li>		If a dvi file was opened in a directory without write permission, TeXShop could
		not create and display a corresponding pdf file. Now it will create the pdf file
		in a temporary directory and display it.

	<li>		If the abort button was pushed in the console and the user later typed and
		pushed RETURN, the program crashed. Fixed.

<li>				Two minor error dialogs, which should have appeared in a window, instead
					appeared on the desktop with an inoperable "OK" button. This is fixed.

<li>				In localizations other than English, attempts to get the applescript dictionary
					crashed TeXShop. Fixed.

<li>				The Bibtex, etc., tools in the source window did not work if a file had a root
					file. Fixed.



</ul>












<P><h5>Version 1.34 adds extra features to TeXShop and fixes some bugs.</h5></p>
<p><h6> New features:</h6></p>

<ul>

<li> Added a Matrix Panel by Jonas Zimmermann, zimmerleut@gmx.de. Many
					thanks.

<li>					At the request of Claus Gerhardt, added an extra applescript command,
					"goto line". For instance
<dl>
<dd>						tell front document of application "TeXShop"
<dd>						goto line 15
<dd>						end tell
</dl>
<li>					Added a first cut at pdfsync. Clicking on a spot in the pdf file while holding down
					the command key takes the user to the corresponding point in the source file.
					If the source file has include files,  this operation will open
					the appropriate include file and take the user to a point in that file. Read the
					help file "General Help: Pdfsync" for important details. This change depends
					on pdfsync.sty, a file create by Piero D'Ancona with improvements by Jérôme 
					Laurens.

<li> 					Also added pdfsync the other way. Clicking on a spot in the source file (including
					source files with root files) while holding down the command key will select
					the corresponding page in the pdf file.

</ul>

<p><h6> Bugs fixed:</h6></p>
		<ul>

				<li>	The TeX, Latex, Bibtex, Makeindex, Metapost, Context, and Metafont buttons
					on the toolbar reset the default typesetting engine. This no longer happens.
					Thus it is possible to hit the Bibtex button and then hit command-T to typeset
					again.

<li>					The abort button on the console window did not stay fixed when the window
					was resized. Thanks to Sean Luke for pointing out these first two errors.

<li>					The command-1 keystroke switches back and forth between the source and
					preview windows. In previous versions, this did not work when a source
					window had a root file set by myfile.texshop or %SourceDoc. This is now fixed.
					Clicking command-1 while in the source brings up the corresponding preview
					window. Clicking command-1 again brings up the original source file.
					A given preview window may have several source files. Command-1
					will bring up the last source file which was switched to the preview using
					command-1, or  the root source file if there was no previous switch.

<li>					New Spanish help files by Juan Luis Varona Malumbres. Thanks.

<li>			Printing now respects the "scale" setting in Page Setup. It does not respect the
					"paper size" setting since paper size is set in teTeX. Printing works like this:
					the dimensions of the printed document are set by tex and encoded in the
					pdf file; this pdf is resized by the scale factor if this factor is not 100%, but otherwise
					is placed full size and centered on the printed page; usually the document size
					and printed page size are the same, but in rare cases when they are not,
					the edges of the document might be cut off.

</ul>



<P><h5> Version 1.33 adds extra features to TeXShop and fixes some bugs.</h5></p>
<p><h6> New features:</h6></p>

<ul>
<li> The changes in version 1.33 support improved apple scripting,
		better macro support, and improved interaction with external editors.

<li>		Improved macro support was prompted by Claus Gerhardt, who wrote several
		useful scripts included with version 1.33. For example, one script calls htlatex
		to typeset a latex file for the web. The script saves the source, typesets,
		and opens the resulting html file in Safari. Thus the script behaves exactly like
		the Latex typesetting button except that it creates an html rather than a pdf, 
		and displays the html in Safari rather than TeXShop. An advantage of this
		approach is that users can create their own scripts similarly and thus add features
		to TeXShop without waiting for new program code.

<li>		TeX typesetting often requires a sequence of operations. To process a file with
		a bibliography, the source must be run through latex, bibtex must be run, 
		and latex must be run twice more. A script is included to do this automatically.
		The script saves the source before the first latex run and updates the preview display
		at the end. Users can easily customize this script for their own workflow.

<li>		Additional scripts convert the tex source file to a file with Windows line feed
		convention, or a file with Macintosh 9 line feed conventions, or a file with Unix
		line feed conventions. Mac OS X understands all line feeds without help, but
		many computers are not so smart; the conversions are useful when sending
		files to friends. The "flip" binary used to do these conversions was written
		by Craig Stuart Sapp. See http://ccrma-www.stanford.edu/~craig/utility/flip/ for details.

<li>		A script is included to call pdfselect and extract portions of pdf documents.
		A user could request one file containing pages 3 through 7 of the tex document, one 
		containing page 29, and one containing pages 31  through 36. The advantage of placing 
		this code in the Macros menu is that a user interface is provided, so users don't need to remember calling conventions for pdfselect and don't need to switch to the Terminal.

<li>	A #DOCUMENTNAME# variable was added to the Macro editor, giving applescript commands
	the name of the calling document.

<li>	The following applescript commands were added to
		TeXShop. Consult the TeXShop help files for details about writing your own scripts
		using these commands.
	<p>
		<ul>
			<li> typeset
			<li> latex		
			<li> tex		
			<li> bibtex		
			<li> context
			<li> metapost
			<li> makeindex
			<li> typesetinteractive
			<li> latexinteractive		
			<li> texinteractive		
			<li> bibtexinteractive		
			<li> contextinteractive
			<li> metapostinteractive
			<li> makeindexinteractive
			<li> typeset
			<li> refreshpdf
			<li> refreshtext 
			<li> taskdone
		</ul>
		<p>
<li>		Improved support was added for external editors, following prodding by Joachim Kock.
		Several changes have been made:

<ul>
<p><li>		     There is now a preference to turn on continuous updating of the
		     preview window if the user is running in external editor mode. Once each
		     second the program checks to see if the pdf file has been updated. If so,
		     it refreshes the pdf display. 

<p><li>		 The interval between refresh checks is controlled by a hidden preference item
			named RefreshTime. To reset to another interval
		     in seconds (say every 2.19 seconds)
		<p>	
			defaults write TeXShop RefreshTime 2.19
		<p>

<p><li>		      Applescript command support has been added to TeXShop so external
		     applications can send commands to it. For external editors, the important
		     script commands are
<p>
		<ul>
		<li>	latexinteractive	
		<li>	texinteractive	
		<li>	bibtexinteractive	
		<li>	contextinteractive
		<li>	metapostinteractive
		<li>	makeindexinteractive
		<li>	typesetinteractive
		<li>	refreshpdf
		<li>	taskdone
		<li>	open_for_externaleditor
		</ul>
<p>
		     The first seven commands call TeXShop's typesetting engine.  
			When one of these commands is called, control immediately returns
		     to the calling program even though the typesetting operation is not complete. The
		     taskdone command returns FALSE while this operation continues and TRUE when it
		     is done, so a calling program wishing to send several commands can send one
		     command and then test that it has been completed before sending another command.
<p><li>		  Refreshpdf updates the preview display, and can be used instead of
		     continuous updating to control that display. Typesetting commands automatically
		     update the display upon completion.

<p><li>		  The open_for_externaleditor command opens a .tex file, calling "Open for Preview..."
</ul>
<p>
<li>		Additional features not related to scripting or external editors have also been
		added:

			<li>		"Select All" can be used to select the full page of pdf output in selection mode.
					There is one restriction; in Multi-Page and Double-Multi-Page mode, select all is
					only active if the document has at most 20 pages, since otherwise the
					selected pdf will be enormous and bring the machine to a crawl.

		<li>		A preference item now allows users to distill with Apple's pstopdf rather than
					ghostscript. This only works in Panther because pstopdf is only in Panther.
					If the preference is chosen but Panther is not running, the old ghostscript code
					will be used. When the preference is chosen, ghostscript is no longer needed
					for internal TeXShop scripts, but it may still be required for teTeX style files.
					One such case is epstopdf.sty, used to automatically convert eps files to pdf
					format during typesetting.

			<li>		Zenitani provided additional drag and drop support. The new version reports
					an error if the filename of the dropped file contains a space. The new code also
					permits customization, in a somewhat strange way. To customize drag and drop
					code, add a new submenu to the Macros menu titled "Drag & Drop". Inside this
					folder, insert items for file types and make the text of each item be the code
					to be produced by drag and drop. For example, one item might be called ".pdf"
					and the body of this item might be "\includegraphics[#INS#]{%r}" where neither
					item would include the quotation marks. In these inclusions, 
					<p>
					<ul>
					<li>	%F = full path of an dropped file
					<li>	%f = dropped filename
					<li>	%r = relative path of the dropped file
					<li>	%n = filename without extension
					<li>	%e = extension
					</ul>
<p>
			<li>		If an extension is not listed in the Drag & Drop menu, or if there is no such menu,
					then drag and drop behaves as Zenitani proscribed, so most users won't need to
					customize the code.

<li>		German help has been updated by Martin Kerz, the Italian localization has been
					updated by Nicola Vitacolonna, the Spanish help was updated by Juan Luis Varona
					Malumbres, the French localization was updated by Hendrik Chaltin, and a
					Romanian localization was added by Andrei Teleman. Thanks!

			<li>		Macros can now be called when the preview window is active; commands which
					insert text will be deactivated in this mode. A toolbar item for the Preview window
					was added so the Preview toolbar can display a Macros button.	
<li>		An "Abort" button was added to the console for people who want to stop the typesetting
		program in midstream. This is a minor change.

<li>		Code by Elliott Hughes was added to clean up some of the code calling a latex, tex, bibtex,
		etc., task. If the binary file is not found, the program now puts up an error message
		explaining the error and asking if the preferences bin path is correct. This will be useful
		for those running fink who forget to change the preference.

<li>		At the request of Joachim Kock, when TeXShop opens
		a file for Preview, or is in external editor mode and opens a file, the program now
		compares the dates of the source and preview files. If the preview file is not up to
		date or does not exist at all, the source file is automatically typeset.
		There is a hidden preference to turn this behavior off, but it is on by default:
		To turn it off
	<p>
			defaults write TeXShop ExternalEditorTypesetAtStart NO
<p>
</ul>


<p><h6> Bugs fixed:</h6></p>
		<ul>

				<li>		A few users reported that their printers added a slight yellow background to the page. Only a few printers had that problem. Frank Stengel discovered that it was caused
					by a NSEraseRect call in the print drawing routine. This call has been removed;
					now TeXShop prints using only one line, the vanilla Cocoa call
					[myRep draw].

			<li>		In Panther, all Text objects offer word completion. If a portion of a word is typed
					and option-escape is typed, the system will offer a list of possible completions.
					This works in TeXShop, TextEdit, and other Cocoa programs. But TeXShop's
					Command completion was broken in Panther, and made it impossible to use
					this new feature. This is fixed.

			<li>		TeXShop has an applescript command to add text, but this command did not
					update the undo stack.
					This was fixed by Stefan Walsen; his patch is in version 1.33.
			
			<li>	If the user printed the source and later printed the typeset document, the document
					would be lowered on the page. This is fixed.

		<li>		Jerry Keough found a strange bug when using TeXShop in Jaguar. If the user's preference setting asked that no empty document appear at startup  and if the user opened a document, made the
					pdf window active, and then reached over and closed the source window, the next menu use would
					crash the program. This bug did not occur in Panther. It is fixed.

</ul>


<P><h5> Version 1.32 adds two extra features to TeXShop and fixes some bugs.</h5></p>
<p><h6> New features:</h6></p>
<ul>
<li>
There is a new menu item, "New Tag", which inserts an empty tag in the
					source text and positions the cursor so the user can add the name of the tag.
					As a corollary, there is now a keystroke to add a new tag; the keystroke
					is command-2.


<li> 
In Applescript macros, the terms #LOGPATH#, #AUXPATH#, #INDPATH#,
					#BBLPATH#, and #HTMLPATH# will now be recognized; this has been added
					at the request of Claus Gerhardt.


<li> 
There is a new option to set the program called by MetaPost. See the
					TeXShop help file for an explanation.


<li> 
The drag and drop code has been improved by Seiji Zenitani. Dropping
					files of types pdf, jpg, jpeg, tif, tiff, eps, or ps on the source document will
					produce \includegraphics and a reference to the file. Dropping a file of type
					cls, sty, or bib will \documentclass, \usepackage, or \bibliographystyle and
					a file reference. Dropping any other text file will produce \input and a file
					reference.


</ul>

<p><h6> Bugs fixed:</h6></p>
		<ul>

<li> Although the magnification level can increase to 1000 in version 1.31, 
					the arrow keys next to the magnification control only allowed values up to
					400. This is fixed.


<li> If the preview window's toolbar was in text-only mode and the magnification
					panel was selected, the resulting small dialog window would not go away
					in 1.31. This is fixed. 

<li> In Preferences, if the user set the tab size or the preview window magnification
					and then cancelled, the new values would still appear when the Preference
					panel was again displayed. This is fixed.

<li> Suppose the preference to place the first page on the right side is active.
					In 1.31, the left arrow key did now work in double page mode, and the right arrow
					key stopped one page before the end. In double multipage mode, the end
					key, the page down key, and the right arrow key stopped before displaying
					the last page. All of these problems are fixed.

</ul>


<P><h5> Version 1.31 adds some extra features to TeXShop and fixes several bugs.</h5></p>
<p><h6> New features:
</h6></p>
<ul>
<li> 
Macros items are now specific to the typesetting engine set in the current
window. Two default sets are created when TeXShop first starts, one for
Latex and one for Context. (The Context set was created by Hans Hagen;
thanks!). Suppose a different engine is selected, say TeX. When it
starts, it will have the default Latex macros. But if this set of Macros
is edited with the Macro editor, the new set will always be associated
with TeX, while the old Latex macros will continue to be associated
with Latex. Of course the Latex macros can also be changed.


<li> 
A new preference item allows the first page in the two double page modes
to be either on the left or on the right. Books usually put this page on
the right, so that is the default preference.


<li> 
The preference dialog has a new pulldown menu to reset preferences to
default values. This addition was requested by Seiji Zenitani for users in
Japan who must cope with three different versions of pTeX. These users can
now rapidly set preferences without consulting documentation on web sites.


<li>
The largest possible magnification in the preview window is
now 1000 (previously it was 400).


<li>
Additional French menu translations by Hendrik Chaltin; thanks!



</ul>
<p><h6> Bugs fixed:</h6></p>

		<ul>

<li> Three Panther problems are fixed. A few interface changes
were made to improve appearance in Panther. This
release is essential for Panther. 

<ul>
	<li> In Panther, older versions of TeXShop refuse to create
	new files, although they can open existing files. This was fixed 
	by adding two lines to the "displayName" code.

	<li> In Panther, the small yellow tags which display the current
	page when scrolling in multipage and double multipage display
	formats were blank. Also, the small yellow tags which display
	the size of a selection rectangle to copy
	a portion of the pdf window were blank. This is fixed.

	<li> On my system, Panther spellchecking often fails for all
	programs. This happens at boot time. The computer boots
	up, but even if the first program used is TextEdit or Mail, it refuses
	to "spell check as you type" and the "Spelling dialog" refuses
	to appear. I suspect this is due to a defective third party program on my
	disk, since other Panther users haven't seen the problem. But
	I haven't been able to isolate the bug. Once the problem occurs, TextEdit and Mail have minor text
	input glitches which are cured by turning off continuous spell
	checking. TeXShop had more serious glitches in this situation.
	So in 1.31, extra code has been added to turn off continuous
	spell checking when TeXShop starts if the spell checker is not
	available.

	</ul>

<li> Fixed a bug reported by Luis Sequeira: when text was dragged within
the source window, it was always copied and pasted. It should have been cut and
pasted unless the option key was down. This is fixed. 

<li> Juan Luis Varona Malumbres slightly improved Spanish help (small
icon for the list of help files in the drawer).

<li> In two page mode, typesetting no longer scrolls to the first
page.

<li> The new page and magnification buttons retain firstResponder
status (as before 1.29) so users can experiment with several
settings without clicking again for each experiment.

<li> In version 1.30 and before, if the user input an impossible line 
into the "Go To Line" dialog, the program could crash; this is fixed. 
Thanks to Eric Seidel for the bug report.

<li> Kevin Ballard, kevin@sb.org, contributed a new English.lproj folder
with revised placement of interface items in preferences, slightly revised
menu items, and other changes to improve the look of the interface
in Panther. Many thanks!

<li> Made spacing changes for Panther in the German preference panel.
Thanks to Martin Kerz for the suggestions.

<li> There is a hidden preference item to turn off tag computation:
"defaults write TeXShop TagSections NO" but this preference was disabled
somewhere along the line and certainly in 1.30. It is enabled again.


<li> The Preference window is no longer hidden when the program is
deactivated.

</ul>
</div>
<div id="header_background"></div>
<div id="header_logo"><a href="../TeXShop%20Help.html"><IMG HEIGHT="40" WIDTH="40" border="0" SRC="../gfx/xicnsc.gif"></a></div>
<div id="header_title">What's new?</div>


	</BODY>

</HTML>