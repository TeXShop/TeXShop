<HTML><HEAD>			<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=Shift_JIS">			<TITLE>Pdfsync</TITLE>			<META NAME="copyright" CONTENT="Copyright (c) 2003 Richard Koch under the GNU FDL">			<META NAME="description" CONTENT="ソースとプレビューを相互に照応──日本語環境では使用不可"></HEAD><BODY BGCOLOR="#ffffff" topmargin="20" leftmargin="20"><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%">	<TR HEIGHT="40">		<TD WIDTH="40" HEIGHT="40"><a href="../TeXShop%20Help.html"><IMG HEIGHT="40" WIDTH="40" border="0" SRC="../gfx/xicnsc.gif"></a></TD>		<TD WIDTH="6" HEIGHT="40"></TD>		<TD HEIGHT="40" VALIGN="middle"><FONT FACE="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3" SIZE="4"><B>Pdfsync</B></FONT></TD>	</TR></TABLE><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">シンクロナイゼーションは Textures の重要な機能です── Textures は Classic Mac 用の商用 TeX ソフトで Blue Sky TeX Systems 社の製品です。この機能があれば、執筆者はプレビューウィンドウをクリックすることで、ソースウィンドウ内の該当部分にすぐに移動できます。Mac OS X 用ネイティブ・バージョンの Textures が約束されてはいますが、今はまだリリースされていません。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">Textures におけるシンクロナイゼーションの実装は、ソースコード内の対応する箇所を正確に突き止めるその能力によって広く賞賛されています。この機能に必要なデータを取得するために Blue Sky TeX Systems 社のほうで TeX を書き改めたそうですが、私は彼らが実際にどうやったのかについて詳しいことは知りません。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">この実装より後、他のプラットホーム上の多くの TeX システムでもほぼ同じような機能を提供していますが、これは TeX が dvi ファイルに補足情報を書き込むようにする追加のスタイルファイルを使っています。今年の夏、Piero D'Ancona がいくぶんこれと似たスタイルファイルを pdflatex 用に作成しました。このパッケージ── pdfsync.sty は、pdf 出力ファイルとソース入力ファイルとを相互に関連づけるのに必要なデータとともにタイプセットを行なう一方で、追加のファイルを pdftex に生成させます。D'Ancona の作ったものは pdftex 内部のコマンドに依存していますが、そのコマンドは、正確なタイプセットを行なうためのｘ座標とｙ座標を出力しています。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">最近になって、J&#x00E9;r&#x00F4;me Laurens が D'Ancona のプロジェクトに参加し、pdfsync パッケージの改良に寄与しました。その後で Laurens は pdf シンクロナイズを iTeXMac に実装しました；これは Mac OS X 用の TeX フロントエンドにおける、最初にして、現時点で最も強力な実装です。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">TeXShop では1.34からこうした成果を取り入れ始めました。pdfsync を使うには、pdfsync.sty というファイルを TeXShop ディストリビューションから見つけ、~/Library/texmf/tex/latex に置いてやる必要があります。ゆくゆくはこのファイルは、Gerben Wierda の TeX ディストリビューションの一部となることでしょう。pdfsync の機能は、pdflatex においてのみ利用可能です；「 TeX + Ghostscript 」によるタイプセットでは動作しません。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">pdfsync を使うには、次の１行を TeX ソースコードのプリアンブル── \begin{document} 行よりも前の部分──に付け加えます：<dl><dd>\usepackage{pdfsync}</dl>このパッケージは「 TeX + Ghostscript 」でタイプセットした場合は無視されますが、pdflatex でタイプセットを行なうと、.pdfsync という拡張子を持つ追加ファイルを生成します。たとえば、ソースファイルの名前が main.tex だとすると、追加ファイルの名前は main.pdfsync となります。この追加されたファイルには、pdf における位置とソースファイルにおける位置とを関連づけるのに必要な情報が書き込まれています。pdfsync を用いたにしても、ほとんどのファイルではエラーなしでタイプセットされるはずですが、ごく少数のケースでは、このパッケージが余計なエラーをもたらすかもしれません。そのような事例があれば D'Ancona か Laurens、または私にご報告ください。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">いったん pdfsync を使ってファイルをタイプセットしたら、コマンドキーを押したまま pdf プレビューウィンドー内の一点をクリックしてください。ソースウィンドウが前面に来て、該当するソースを含む行が選択されていることでしょう──必要であればウィンドウはこの行までスクロールします。もしプレビューウィンドウ内の位置が、章ごとに分けて組み込んだファイル内のソースと対応するのであれば、そのファイルが開かれて前面に現われ、ソース内の適切な場所までスクロールします。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">このプロセスは逆方向でも同じようにうまくゆきます。コマンドキーを押したままソースファイル内の１行をクリックしてください。該当するページが選択された状態で、プレビューウィンドウが前面に出てきます。これについては、ソースファイルに %SourceDoc 行があるか、ルートファイルが設定されているかすれば、ルートのプレビューウィンドウで該当するページが選択されてうまくゆきます。警告：もしルート文書が \include を使って他のソースファイルを追加してはいるものの、ソースファイルのほうからルート文書に対して %SourceDoc で（もしくはルートファイル設定で）相互参照的にリンクされていない場合には、コマンド＋クリックをすることで、プレビューウィンドウからソースへは移動しますが、ソース行からプレビューへは戻れません。各ファイルの最初に %SourceDoc コメントを書き加えてやることで、これは容易に是正できます。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">この最初の実装では、選択された行はおおよそ合っているでしょう──が、実際のソースコードより数行ほど高かったり低かったりするかもしれません。D'Ancona の pdfsync ファイルには、ソース内の位置をより正確に見つけ出すことができる追加情報が含まれていますから、その情報を利用するためのコードも、できるだけ早いうちに TeXShop に付け加えられることでしょう。</font></p><p><font size="2" face="Lucida Grande,Geneva,Arial,ヒラギノ角ゴ Pro W3">今のところ、ソースファイルが \input されていると pdfsync は機能しません。そういうわけで \include ならうまくゆきますが \input ではダメです。この制限事項はいずれ取り除かれるかもしれません。</font></p></BODY></HTML>