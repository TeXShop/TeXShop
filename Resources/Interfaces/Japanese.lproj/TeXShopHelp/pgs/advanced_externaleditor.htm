<HTML>

<HEAD>
			<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=Shift_JIS">
			<TITLE>外部エディタを使用する</TITLE>
			<META NAME="copyright" CONTENT="Copyright (c) 2003 Richard Koch under the GNU FDL">
			<META NAME="description" CONTENT="自分の好きなエディタでソースを編集する方法">
			<link href="../sty/screen.css" rel="stylesheet" media="all">
</HEAD>

<body>	

<div id="content_border">

<p>
TeXShop ではいくつかの方法で外部エディタを設定することができます。以下に示す方法は便利ですし、エディタの機能には依存しません。将来的には、環境設定でエディタを指定するようになるかもしれません。
</p>

<p>
「プレビューを開く...」というメニュー項目があります。この項目を選ぶと、拡張子が .tex のソースファイルを選択するように言われます。ですが開かれるのは、関連づけの行なわれた pdf プレビューウインドウのみです。ソースがまだタイプセットされていなかったり、pdf が古くなっていた場合、ファイルを開くとともに TeXShop がタイプセットを行ないます。ソースファイルはどのエディタでも開くことができます。タイプセットの準備が整ったら、変更箇所をエディタで保存し、プレビューウインドウに切り替えてタイプセットします。このやり方の場合、TeXShop はソースファイルを開かず、また修正も行ないません。ただ単にファイルを UNIX の TeX もしくは LaTeX プロセスに渡すだけです。
</p>

<p>
プレビューウインドウにはタイプセット・ボタンを配置することができます。もしそうしたボタンが見あたらない場合は、ウインドウ・メニューの「ツールバーをカスタマイズ...」を使ってボタンを付け加えてください。
</p>

<p>
ほとんど常に外部エディタを使いたいユーザーのために、環境設定には「外部エディタでソースを編集」という項目があります。この設定が選択されていると、「開く...」と「最近使った書類」メニューでは、TeX ソースファイルを外部エディタで編集するために、上述の方法で開きます。さらに「プレビューを開く...」メニューは「開いて編集する...」と変わり、TeXShop の内蔵エディタでソースファイルを開くようになりますが、これはごくまれに内蔵エディタを使いたい場合のためです。「開く...」と「最近使った書類」メニューではまた、jpg ・ tiff ・ ps ・ pdf ・ dvi ・ log およびその他のファイルを開くこともできます ； この動作については、新しい環境設定にした場合でも変わりません。
</p>

<p>
UNIX のタイプセットコマンドを直接呼び出すことのできるエディタもあります。新しい設定項目「プレビューの自動更新」は、こうしたエディタでの作業を改善するために付け加えられました。この項目が選択されており、「プレビューを開く...」を使って .texファイルを開いた場合には、pdf が書き改められたときにはいつでも、pdf プレビューワの画面が更新されます。なので、外部エディタからのタイプセットが可能になり、プレビューウインドウは自動的に変更を表示します。この環境設定は、TeXShop で開いた .pdfファイルについても同様に適用されますし、TeXShop が外部エディタを利用するように設定されていれば、「開く...」を使って開いた .texファイルについてもまた適用されます。
</p>

<p>
エディタから直接 TeXShop を呼び出せるように、以下の AppleScript コマンドが追加されています：
</p>
	<ol>
		<li>typesetinteractive
		<li>texinteractive
		<li>latexinteractive
		<li>contextinteractive
		<li>bibtexinteractive
		<li>makeindexinteractive
		<li>metapostinteractive
		<li>taskdone
		<li>refreshpdf
		<li>open_for_externaleditor
	</ol>

<p>
最初の７つのコマンドは TeXShop のタイプセッティング・コマンドを作動させます。これらのコールの後で AppleScript は、タイプセットの完了を待たずにすぐリターンします。「taskdone」コールは完了したかどうかを調べるのに使えます ； これはタイプセットが行なわれている間は NO を返し、終了すると YES を返すのです。これらのコールはそれぞれに、タイプセット完了時にはプレビューウインドウを更新します。使用するエディタが TeXShop を呼び出してタイプセットするのであれば、環境設定の「プレビューの自動更新」はオフにしておけます。
</p>

<p>
もし外部エディタが pdf 出力をじかに修正するのであれば、「refreshpdf」を呼び出して pdf 画面を更新することができます。これは「プレビューの自動更新」がオフになっている場合にのみ必要となります。最後の「open_for_externaleditor」は「プレビューを開く...」を呼び出して texファイルを開きます。
</p>

<p>
AlphaX からこれらのコールを行なうための Tcl コードは、TeXShop ディストリビューションの TeXShop_Folder の中にある AlphaTcl フォルダ内に入っています。ファイルの初めに書かれていることを読み、意図に沿って AlphaX を設定する方法を確認してください。
</p>

<div id="header_background"></div>
<div id="header_logo"><a href="../TeXShop%20Help.html"><IMG HEIGHT="40" WIDTH="40" border="0" SRC="../gfx/xicnsc.gif"></a></div>
<div id="header_chapter">上級向けのヘルプ</div>
<div id="header_title">外部エディタを使用する</div>

		<div id="menu_border">
		<ul>
			<li><a href="advanced_personaltetex.htm">スタイルとマクロを teTeX に追加する</a>
			<li><a href="advanced_addengine.htm">追加のタイプセットエンジン</a>
			<li><a href="advanced_removeaux.htm">作業ファイルを削除する</a>
			<li><a href="advanced_externaleditor.htm">外部エディタを使用する</a>
			<li><a href="advanced_pdfcopypaste.htm">プレビューウインドウからのコピー＆ペーストおよびドラッグ＆ドロップ </a>
			<li><a href="advanced_root.htm">プロジェクトのルートファイルを設定する</a>
			<li><a href="advanced_pdfsync.htm">Pdfsync</a>
			<li><a href="advanced_unicode.htm">Unicode（ユニコード）</a>
			<li><a href="advanced_bibtex.htm">BibTeX</a>
			<li><a href="advanced_makeindex.htm">MakeIndex</a>
			<li><a href="advanced_formats.htm">新規フォーマットの作成と利用</a>
			<li><a href="advanced_otherfiles.htm">その他のファイルを TeXShop で開く</a>
			<li><a href="advanced_mathematica.htm">Mathematica</a>
			<li><a href="advanced_localization.htm">各国語版へのローカライズ</a>
			<li><a href="advanced_syntaxcolor.htm">ソースのカラー表示</a>
			<li><a href="advanced_shellescape.htm">Shell-Escape の保護</a>			
			<li><a href="advanced_coloredtext.htm">TeX における文字の色指定</a>			
			<li><a href="advanced_moretetex.htm">teTeX についてさらに</a>
			<li><a href="advanced_fink.htm">Fink との共存</a>
			<li><a href="advanced_otherdistributions.htm">他の TeX ディストリビューションとの共存</a>
			<li><a href="advanced_context.htm">ConTeXt と MetaPost</a>
			<li><a href="advanced_plist.htm">Plist ファイル</a>
			<li><a href="advanced_menushortcuts.htm">メニュー項目のショートカットキーを再定義する</a>
		</ul>
	</div>
	</body>

</HTML>
