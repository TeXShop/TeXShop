<HTML>

<HEAD>
		<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=iso-8859-1">
		<TITLE>New Features (I)</TITLE>
		<META NAME="copyright" CONTENT="Copyright (c) 2011 Richard Koch under the GNU FDL">
		<META NAME="description" CONTENT="bug reports">
		<link href="../sty/screen.css" rel="stylesheet" media="all">
	</HEAD>

<BODY>
		<div id="content_border">
	

<h3>About TeXShop-64</h3>

<h4>Warning</h4>

If you configure TeXShop to use an external editor, you should continue using the regular version of TeXShop,
which works fine in Lion.

<p>TeXShop has the ability to open graphic eps, jpg, pdf, png, and tiff files. It can also open dvi files by
calling dvips and ghostscript to convert the dvi to a pdf and displaying that. If you want to display such graphic files in TeXShop-64, it is important that you open the file using the "Open" or "Open Recent" menu commands. Dragging the file to the TeXShop icon in the dock will crash the program. Ordinary TeX files and other types of text document can, of course, be dragged to the TeXShop-64 icon without problems.

<p>In the rare case that you often use TeXShop's ability to open graphic files and are in the habit of dragging icons to the dock, it might be best to place both the old TeXShop and the new TeXShop-64 in the dock and get in the habit of always dragging graphic files to the old program's icon.

<h4>Explanation</h4>

Each document open in TeXShop is associated with an NSDocument object in code. This object is responsibility for opening and closing the document, for reading and writing the document's disk file, and for maintaining the document's main Source window, and its auxiliary Preview, Log, and Console windows. 

<p>The main Source window and the various auxiliary windows behave slightly differently. You can always close a Preview, Log, or Console window and later open it again. But when you close the Source window, the entire document is closed and vanishes from the screen.

<p> In the special situations when TeXShop opens a a graphic file, or opens a tex file for use with an external editor, there is no source window to show. In these situations, TeXShop still associates the same type of NSDocument object with the file, and employs  trickery to avoid showing the source window.

<p> In Lion, several features like "resume" and "auto save" have been added to applications, with only minor assistance from the programmer. Apple did that by modifying the underlying Cocoa frameworks with which programs are built. However, these modifications did not expect  NSDocument's main window to be hidden or removed entirely, hence the crashes.

<p> There is an approved Apple method to avoid this problem, which has existed since the introduction of Mac OS X. Instead of having just one type of NSDocument object, a program is allowed to define several objects, say NSTeXDocument, NSTiffDocument, NSJpegDocument, etc. These various documents can then have different main windows, so the main window of an NSJpegDocument would be a graphic window which displays jpeg files.

<p> In the brief interval between WWDC and the release of Lion, it did not make sense to me to spend time on a redesign of TeXShop's rarely used ability to display graphic files. Instead I concentrated on the central portions of the program related to editing and typesetting TeX files. The issues discussed here will be fixed in due course. 

<p> 


</div>
<div id="header_background"></div>
<div id="header_logo"><a href="../TeXShop64%20Help.html"><IMG HEIGHT="40" WIDTH="40" border="0" SRC="../gfx/xicnsc.gif"></a></div>
<div id="header_chapter">Lion</div><div id="header_title">Read Me (Warning)</div>
		<div id="menu_border">
		<ul>
			<LI><a href="lion.htm">Lion</a>
			<LI><a href="lion_warning.htm">Read Me (Warning)</a>
			<LI><a href="lion_newfeatures1.htm">New Features (I)</a>
			<LI><a href="lion_newfeatures2.htm">New Features (II)</a>
			<LI><a href="lion_newfeatures3.htm">New Features (III)</a>
			<LI><a href="lion_newfeatures4.htm">New Features (IV)</a>
			<LI><a href="lion_texshophistory1.htm">History (I)</a>
			<LI><a href="lion_texshophistory2.htm">History (II)</a>
		</UL>
	</div>
	</BODY>

</HTML>