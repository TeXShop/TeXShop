<HTML>

<HEAD>
		<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=iso-8859-1">
		<TITLE>What's new?</TITLE>
		<META NAME="copyright" CONTENT="Copyright (c) 2003 Richard Koch under the GNU FDL">
		<META NAME="description" CONTENT="new features; bug fixes">
	</HEAD>

<BODY BGCOLOR="#ffffff">
		<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%">
<TR HEIGHT="40">
<TD WIDTH="40" HEIGHT="40"><a href="../TeXShop%20Help.html"><IMG HEIGHT="40" WIDTH="40" border="0" SRC="../gfx/xicnsc.gif"></a></TD>
<TD WIDTH="6" HEIGHT="40"></TD>
<TD HEIGHT="40" VALIGN="middle"><FONT FACE="Lucida Grande,Helvetica,Arial" SIZE="4"><B>What's new?</B></FONT></TD>
</TR>
</TABLE>

<P><font size="2" face="Lucida Grande,Geneva,Arial"> Version 1.31 addes some extra features to TeXShop and fixes several bugs.
</font>
<p><font size="2" face="Lucida Grande,Geneva,Arial"> New features:
</font>
<ul>
<li> <font size="2" face="Lucida Grande,Geneva,Arial">
Macros items are now specific to the typesetting engine set in the current
window. Two default sets are created when TeXShop first starts, one for
Latex and one for Context. (The Context set was created by Hans Hagen;
thanks!). Suppose a different engine is selected, say TeX. When it
starts, it will have the default Latex macros. But if this set of Macros
is edited with the Macro editor, the new set will always be associated
with TeX, while the old Latex macros will continue to be associated
with Latex. Of course the Latex macros can also be changed.
</font>

<li> <font size="2" face="Lucida Grande,Geneva,Arial">
A new preference item allows the first page in the two double page modes
to be either on the left or on the right. Books usually put this page on
the right, so that is the default preference.
</font>

<li> <font size="2" face="Lucida Grande,Geneva,Arial">
The preference dialog has a new pulldown menu to reset preferences to
default values. This addition was requested by Seiji Zenitani for users in
Japan who must cope with three different versions of pTeX. These users can
now rapidly set preferences without consulting documentation on web sites.
</font>

<li> <font size="2" face="Lucida Grande,Geneva,Arial">
The largest possible magnification in the preview window is
now 1000 (previously it was 400).
</font>

<li> <font size="2" face="Lucida Grande,Geneva,Arial">
Additional French menu translations by Hendrik Chaltin; thanks!
</font>


</ul>
<p><font size="2" face="Lucida Grande,Geneva,Arial"> Bugs fixed:
</font>
		<ul>
<font size="2" face="Lucida Grande,Geneva,Arial">
<li> Three Panther problems are fixed. A few interface changes
were made to improve appearance in Panther. This
release is essential for Panther. 

<ul>
	<li> In Panther, older versions of TeXShop refuse to create
	new files, although they can open existing files. This was fixed 
	by adding two lines to the "displayName" code.

	<li> In Panther, the small yellow tags which display the current
	page when scrolling in multipage and double multipage display
	formats were blank. Also, the small yellow tags which display
	the size of a selection rectangle to copy
	a portion of the pdf window were blank. This is fixed.

	<li> On my system, Panther spellchecking often fails for all
	programs. This happens at boot time. The computer boots
	up, but even if the first program used is TextEdit or Mail, it refuses
	to "spell check as you type" and the "Spelling dialog" refuses
	to appear. I suspect this is due to a defective third party program on my
	disk, since other Panther users haven't seen the problem. But
	I haven't been able to isolate the bug. Once the problem occurs, TextEdit and Mail have minor text
	input glitches which are cured by turning off continuous spell
	checking. TeXShop had more serious glitches in this situation.
	So in 1.31, extra code has been added to turn off continuous
	spell checking when TeXShop starts if the spell checker is not
	available.

	</ul>

<li> Fixed a bug reported by Luis Sequeira: when text was dragged within
the source window, it was always copied and pasted. It should have been cut and
pasted unless the option key was down. This is fixed. 

<li> Juan Luis Varona Malumbres slightly improved Spanish help (small
icon for the list of help files in the drawer).

<li> In two page mode, typesetting no longer scrolls to the first
page.

<li> The new page and magnification buttons retain firstResponder
status (as before 1.29) so users can experiment with several
settings without clicking again for each experiment.

<li> In version 1.30 and before, if the user input an impossible line 
into the "Go To Line" dialog, the program could crash; this is fixed. 
Thanks to Eric Seidel for the bug report.

<li> Kevin Ballard, kevin@sb.org, contributed a new English.lproj folder
with revised placement of interface items in preferences, slightly revised
menu items, and other changes to improve the look of the interface
in Panther. Many thanks!

<li> Made spacing changes for Panther in the German preference panel.
Thanks to Martin Kerz for the suggestions.

<li> There is a hidden preference item to turn off tag computation:
"defaults write TeXShop TagSections NO" but this preference was disabled
somewhere along the line and certainly in 1.30. It is enabled again.
<font size="2" face="Lucida Grande,Geneva,Arial">

<li> The Preference window is no longer hidden when the program is
deactivated.

</ul>



<P><font size="2" face="Lucida Grande,Geneva,Arial"> Version 1.30 fixes several bugs.
</font>
<ul>



<li><font size="2" face="Lucida Grande,Geneva,Arial">
When TeXShop was hidden and later shown, the source window scrolled to the
		top. This is fixed.
</font>
<li><font size="2" face="Lucida Grande,Geneva,Arial">
		Other bugs in split window were fixed.
</font>
<li><font size="2" face="Lucida Grande,Geneva,Arial">
		The right mouse again works in the source window.
</font>
<li><font size="2" face="Lucida Grande,Geneva,Arial">
		When the toolbar was displayed in text only mode, menus behaved strangely.
</font>
		This is fixed.
<li><font size="2" face="Lucida Grande,Geneva,Arial">
		When a document is typeset, it is no longer saved first if it has not been changed
		since the last save.
</font>
<li><font size="2" face="Lucida Grande,Geneva,Arial">
		TeXShop Help has better indexing; clicking on the TeXShop icon in help brings
		you back to the main page.
</font>
<li><font size="2" face="Lucida Grande,Geneva,Arial">
		Additional localizations in German and Spanish.
</font>
</ul>


<P><font size="2" face="Lucida Grande,Geneva,Arial"> Version 1.29 adds a number of extra features to TeXShop and fixes several bugs.
</font>

<p><font size="2" face="Lucida Grande,Geneva,Arial"> New features:
</font>
<ul>
<li><font size="2" face="Lucida Grande,Geneva,Arial">	New PDF display options have been provided by Mitsuhiro Shishikura. The original
		page by page option is still available, but it is now also possible to scroll through the
		entire pdf document or to display two pages side by side. The default choice can
		be set in Preferences and the display can later be changed by menu action.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	Shishikura has also modified the magnification options for preview display. The
		original option is still available, but it is now possible to display in actual size, or fit
		the display to the size of the window. A default choice can be set in Preferences
		and the magnification behavior can later be changed at will by menu.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	The magnification glass behavior has changed slightly. A toolbar item fixes the
		size of the region to be magnified; double or triple clicking enlarges this region.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	It is possible to select a portion of the pdf preview display and copy and paste the
		resulting graphic into another program. Drag and drop of the selection is also supported.
		Preference items allow users to select the file type of the copy (pdf, png, jpg, tiff, etc.)
		and the foreground and background colors and transparency. This feature is also
		due to Shishikura.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	Preview selection combined with drag and drop can be used with Keynote. 
		Using the default copy preferences, a text selection can be dropped on a Keynote slide; 
		the background of the text will be transparent, so the slide background will show between the
		letters. This text can be resized since the default copy format is pdf.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	Seiji Zenitani has added the ability to drag and drop files onto the source window.
		If a tex file is dropped, an "\input " command will be added there with a relative
		path to the file. If a graphic file is dropped, an "\includegraphics " command will
		be added.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
Shishikura also added command completion. Type the first few letters of a word and
		hit the escape key. The remaining letters will be entered. Hitting escape again will
		cycle through all possible completions. Initially this will have limited usefulness because
		the completion dictionary is almost empty. To add a word to the dictionary, select the
		word and choose "Add Word" under the Format menu. Notice that this menu
		command has a key equivalent. To see and edit the entire dictionary, choose
		"Open Completion File" under the Format menu. Notice that the completion can be
		more complicated than just a single word, and the cursor can be placed correctly
		within this completion. Examine the samples provided in the default file for details.
		This feature will be improved in later versions.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	The source window can now be split, so one section can be viewed and written while another
		portion is also visible. Keyboard input can go to either split portion and will
		also immediately appear in the other portion.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	The source and preview window toolbars now work in text only mode.
</font>


<li><font size="2" face="Lucida Grande,Geneva,Arial">
	TeXShop now has support for ISO Latin 5 (used in Turkey) and for several
		Russian formats. Vladimir Novikov provided helpful information
		about formats to support.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	Some users must deal with a number of file encodings. For these users, the open and
		save panels now allow the file encoding to be individually chosen for a file. When a file
		is first opened, the default choice for this encoding will be the one listed 	in preferences, so most users
		can ignore this new choice. If a different encoding is chosen when a file is opened,
		that encoding will be the default choice when the file is later saved.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	A small number of users ran into the following problem. They would receive a file 
		with one encoding, say UTF-8, but mistakenly open it with another encoding, say 
		Mac OS Roman. If they did not notice the problem, they might typeset the file. 
		Typesetting always saves the file first, so the original file would
		be overwritten with a file in a different encoding, losing information. TeXShop now has
		a hidden preference to provide some protection in this situation. When this preference
		is active, TeXShop will create a backup file before it saves or typesets a file. To turn this on, type the
		following command in Terminal:
<ul>
<li>			defaults write TeXShop SaveBackup YES
</ul>
	
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	Support for epsi files was added.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	The default commands for pdftex and pdflatex are now "pdftex --shell-escape" and
		"pdflatex --shell-escape." The "shell-escape" portion of this text tells pdftex that it is
		legal to run other programs during typesetting. This is useful because if tex finds a
		graphic file in an unsupported format, it can automatically call another program to
		convert it to supported format. For example, the default Latex template automatically
		converts tif files to png and automatically converts eps files to pdf.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	This creates one difficulty that may worry some users. The "shell-escape" flag allows pdftex
		to run ANY program. Thus a disgruntled student could send you a tex source file
		by email and when you typeset it you would discover that some of the files in your
		directory had been erased.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	I believe the danger is slight. A source file which did harm would have to be created
		deliberately; sending a "virus" via tex source seems somewhat esoteric. Nevertheless,
		there are two ways that you can protect yourself. The first and easiest is to remove the
		letters "--shell-escape" from the two spots they occur in Preferences and then convert
		all of your graphic files by hand.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	TeXShop now provides a different protection. A preference item under the Engine
		tab is labeled "Shell Escape Warning;" this item is off when TeXShop is delivered.
		If the item is on and "shell-escape" is active, then the first time a file is typeset during
		a TexShop session, a warning dialog will appear allowing you to turn shell-escape
		off for that particular file. This dialog will not appear again during the session for that
		particular file. Thus you can typeset your own files using "shell-escape" and typeset
		files received in the mail without "shell-escape."
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	TeXShop can now create submenus in the Templates menu. To do so, create folders
		in the Templates folder. This code was written by Seiji Zenitani.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	It has always been possible to color TeX output. To do so, add the line
<ul>
<li>			\usepackage{color}
</ul>
		to the preamble, and insert a line like
<ul>
<li>			\color{blue}
</ul>
		before typesetting begins. To color a limited section of text, use a command like
<ul>
<li>			{\color{red} This is very important!}
</ul>
		To define custom colors, use a command like
<ul>
<li>			\definecolor{mycolor}{rgb}{0.2, 0.7, 0.8}
</ul>

</font>
<li><font size="2" face="Lucida Grande,Geneva,Arial">
	When output is colored, the output may be difficult to read on the preview screen.
		TeXShop has hidden preferences to set the background color of the preview window.
		This background color will not appear when the document is printed. To set the
		background to gray, issue the following commands in Terminal:
<ul>
<li>			defaults write TeXShop Pdfbackground_R 0.5
<li>			defaults write TeXShop Pdfbackground_G 0.5
<li>			defaults write TeXShop Pdfbackground_B 0.5
</ul>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	Change 0.5 to 1 to get back to white. If you find yourself changing the background often,
		create an Applescript macro named "PDF background gray" with the Macro Editor
		using the following text:
<ul>
<li>		     --AppleScript
<li>		     do shell script "defaults write TeXShop Pdfbackground_R 0.5"
<li>		     do shell script "defaults write TeXShop Pdfbackground_G 0.5"
<li>		     do shell script "defaults write TeXShop Pdfbackground_B 0.5"
</ul>

		and create a similar macro named "PDF background white". 
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">
	The German help file was revised by Martin Kerz and Laurent Meister. Additional French
		localization was provided by Jean-Claude De Soza. Additional Spanish localization
		was provided by Juan Luis Varona Malumbres.
</font>


</ul>
<p><font size="2" face="Lucida Grande,Geneva,Arial"> Bugs fixed:
</font>
		<ul>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	Undo is now permitted past typesetting operations and file saves. Thus it is possible
		to typeset and then undo several changes made before the typesetting command.
		This bug was fixed earlier, but the fix created problems and had to be removed.
		Now the fix is back for good.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	When a user closed a document and then tried to throw the pdf away, the Finder
		complained that it was still open. TeXShop would have to quit before the pdf
		could be thrown away. This bug was fixed by Wolfgang Lux.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	The error coding failed for the new root file behavior. If "chapter1" had a root file, 
		then after typesetting, control-E and the error menu command would be inactive.
		This is fixed.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	The \phi and \varphi symbols were reversed in the Latex Panel. This was reported
		by Oleg Skipa and Rob Leigh and is now fixed. The code inserted by the "[" and
		"]" symbols in the Latex Panel is now correct, and the cursor is conveniently
		placed for the "Equations" entry.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	The metapost script was improved by Joseph C. Slater.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	Some international characters in autocompletion.plist were repaired by Alexander
		Wittig.
</font>

<li><font size="2" face="Lucida Grande,Geneva,Arial">	In German, the latex panel initially required two clicks to open. This is fixed.
</font>


</ul>
		<ul>
			
		</ul>
	</BODY>

</HTML>